#!/usr/bin/bash -xv
# SPDX-FileCopyrightText: 2025 Taiki Akiyama
# SPDX-License-Identifier: BSD-3-Clause

ng (){
     echo ${1}
     res=1
}

res=0

###NOMAL INPUT###
out=$(echo 10 | ./funny_count)
[ "${out}" == $'3\n6\n9' ] || ng "$LINENO"

out=$(echo 10 | ./funny_count | wc -l)
[ "${out}" == 3 ] || ng "$LINENO"

out=$(echo 1 | ./funny_count)
[ "${out}" == '' ] || ng "$LINENO"

out=$(echo 10.1 | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

###STRENGE INPUT###
out=$(echo 10.1 | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

out=$(echo | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

out=$(echo 10 11| ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

out=$(echo abc | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

out=$(echo „ÅÇ | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"
  
out=$(echo -10 | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

out=$(echo 0 | ./funny_count)
[ "$?" != 0 ] || ng "$LINENO"

[ "${res}" == 0 ] && echo OK
exit $res
